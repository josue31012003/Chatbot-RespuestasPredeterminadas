<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Bot de Seguridad (Sin IA)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * { box-sizing: border-box; font-family: "Segoe UI", Tahoma, sans-serif; }
    body {
      margin: 0;
      background: #eef1f5;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 16px;
    }
    .app {
      width: 100%;
      max-width: 720px;
      height: min(92vh, 820px);
      background: #ffffff;
      border-radius: 14px;
      box-shadow: 0 12px 35px rgba(0,0,0,0.12);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.06);
    }
    .header {
      background: #1f3a5f;
      color: white;
      padding: 16px 18px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .badge {
      width: 34px; height: 34px; border-radius: 10px;
      display: grid; place-items: center;
      background: rgba(255,255,255,0.12);
      font-size: 18px;
    }
    .title { display: flex; flex-direction: column; line-height: 1.1; }
    .title strong { font-size: 16px; letter-spacing: 0.2px; }
    .title small { opacity: 0.85; font-size: 12px; margin-top: 4px; }

    .content {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr;
      background: #f7f9fc;
      overflow: hidden;
    }

    .chat {
      padding: 16px;
      overflow-y: auto;
    }

    .row { display: flex; margin-bottom: 12px; }
    .row.bot { justify-content: flex-start; }
    .row.user { justify-content: flex-end; }

    .bubble {
      max-width: 86%;
      padding: 10px 12px;
      border-radius: 14px;
      font-size: 14px;
      line-height: 1.35;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    .bot .bubble {
      background: #e4e8ee;
      color: #222;
      border-bottom-left-radius: 6px;
    }
    .user .bubble {
      background: #1f3a5f;
      color: white;
      border-bottom-right-radius: 6px;
    }

    .panel {
      border-top: 1px solid #e5e8ef;
      padding: 12px;
      background: white;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .btn {
      border: 1px solid #cfd6e2;
      background: #fbfcfe;
      padding: 10px 12px;
      border-radius: 12px;
      cursor: pointer;
      text-align: left;
      font-size: 14px;
      transition: transform 0.05s ease, border-color 0.2s ease;
    }
    .btn:hover { border-color: #1f3a5f; }
    .btn:active { transform: scale(0.99); }

    .footer-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    .btn-small {
      border: none;
      background: #1f3a5f;
      color: white;
      padding: 9px 12px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 600;
      font-size: 13px;
    }
    .btn-small.secondary {
      background: #e4e8ee;
      color: #1f3a5f;
      border: 1px solid #cfd6e2;
      font-weight: 700;
    }

    .hint {
      margin-top: 10px;
      font-size: 12px;
      color: #425466;
      background: #f1f4fa;
      border: 1px solid #e5e8ef;
      padding: 10px 12px;
      border-radius: 12px;
    }

    @media (min-width: 720px) {
      .options { grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="header">
      <div class="badge">ü¶∫</div>
      <div class="title">
        <strong>Agente Virtual de Seguridad</strong>
        <small>Respuestas predeterminadas ‚Ä¢ Gu√≠a SST</small>
      </div>
    </div>

    <div class="content">
      <div class="chat" id="chat"></div>

      <div class="panel">
        <div class="options" id="options"></div>

        <div class="footer-actions">
          <button class="btn-small secondary" onclick="goBack()">‚Üê Volver</button>
          <button class="btn-small secondary" onclick="goHome()">Inicio</button>
          <button class="btn-small" onclick="showHelp()">Contactar supervisor</button>
        </div>

        <div class="hint" id="hint">
          Selecciona una opci√≥n. Este bot no usa IA: entrega informaci√≥n est√°ndar y checklists.
        </div>
      </div>
    </div>
  </div>

<script>
  // ---------------------------
  // 1) BASE DE CONOCIMIENTO (predefinida)
  // ---------------------------
  // Puedes editar textos aqu√≠ y agregar categor√≠as sin tocar la l√≥gica.
  const KB = {
    home: {
      botText:
`Hola, soy tu agente virtual de seguridad.
Elige un tema para aprender conceptos, requisitos y checklists.`,
      options: [
        { id: "iperc", label: "IPERC (Identificaci√≥n de Peligros y Evaluaci√≥n de Riesgos)" },
        { id: "petsa", label: "PETS / Procedimientos y est√°ndares" },
        { id: "ats", label: "ATS / AST (An√°lisis Seguro de Trabajo)" },
        { id: "peligros_riesgos", label: "Peligros vs Riesgos (con ejemplos)" },
        { id: "epp", label: "EPP (selecci√≥n y uso correcto)" },
        { id: "alto_riesgo", label: "Trabajos de Alto Riesgo (PETAR, controles)" },
        { id: "loto", label: "LOTO (bloqueo y etiquetado)" },
        { id: "incidentes", label: "Incidentes y reporte (qu√© hacer)" },
      ]
    },

    iperc: {
      botText:
`IPERC: Identificaci√≥n de Peligros, Evaluaci√≥n de Riesgos y Controles.
Sirve para reconocer peligros, estimar el nivel de riesgo y definir controles antes y durante una tarea.

Qu√© incluye normalmente:
‚Ä¢ Peligros (energ√≠a, altura, electricidad, atrapamientos, etc.)
‚Ä¢ Consecuencia y probabilidad
‚Ä¢ Controles (jerarqu√≠a: eliminaci√≥n ‚Üí sustituci√≥n ‚Üí ingenier√≠a ‚Üí administrativos ‚Üí EPP)

Elige qu√© quieres ver:`,
      options: [
        { id: "iperc_base_vs_continuo", label: "IPERC Base vs IPERC Continuo" },
        { id: "iperc_pasos", label: "Pasos para hacer un IPERC (r√°pido)" },
        { id: "iperc_checklist", label: "Checklist IPERC en campo" },
        { id: "home", label: "Volver al men√∫ principal" }
      ]
    },

    iperc_base_vs_continuo: {
      botText:
`IPERC Base:
‚Ä¢ Matriz ‚Äúest√°ndar‚Äù del √°rea/tarea (peligros t√≠picos y controles definidos).
‚Ä¢ Se usa como referencia y base de entrenamiento/planificaci√≥n.

IPERC Continuo (en campo):
‚Ä¢ Se realiza antes y durante la tarea.
‚Ä¢ Ajusta controles seg√∫n cambios reales (clima, interferencias, energ√≠a, tr√°fico, condici√≥n del equipo, etc.)

Regla pr√°ctica:
Si cambia el escenario ‚Üí actualiza el IPERC Continuo y revalida controles.`,
      options: [
        { id: "iperc", label: "Volver a IPERC" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    iperc_pasos: {
      botText:
`Pasos r√°pidos para un IPERC (en campo):
1) Define tarea y alcance (qu√©, d√≥nde, con qu√© equipo).
2) Identifica peligros por etapa (preparaci√≥n, ejecuci√≥n, cierre).
3) Eval√∫a el riesgo (probabilidad/consecuencia seg√∫n tu matriz).
4) Define controles con jerarqu√≠a (no empieces por EPP).
5) Asigna responsables y verificaci√≥n (qui√©n valida qu√© y cu√°ndo).
6) Comunica al equipo y confirma entendimiento (briefing).
7) Si cambia el entorno, det√©n y reeval√∫a (IPERC Continuo).`,
      options: [
        { id: "iperc", label: "Volver a IPERC" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    iperc_checklist: {
      botText:
`Checklist IPERC (campo) ‚Äì verificaci√≥n r√°pida:
‚ñ° √Årea se√±alizada / control de acceso
‚ñ° Interferencias identificadas (veh√≠culos, equipos, l√≠neas energizadas)
‚ñ° Condiciones ambientales (lluvia, viento, tormenta el√©ctrica, polvo)
‚ñ° Energ√≠as peligrosas identificadas (el√©ctrica, neum√°tica, hidr√°ulica, gravedad)
‚ñ° Herramientas y equipos inspeccionados
‚ñ° Permisos aplicables listos (si corresponde)
‚ñ° Controles cr√≠ticos implementados (barandas, l√≠neas de vida, bloqueo, etc.)
‚ñ° EPP correcto y en buen estado
‚ñ° Plan de comunicaci√≥n / emergencia (radios, rutas, puntos de reuni√≥n)

Si hay un ‚ÄúNO‚Äù cr√≠tico ‚Üí detener y corregir antes de continuar.`,
      options: [
        { id: "iperc", label: "Volver a IPERC" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    petsa: {
      botText:
`PETS / Procedimientos y Est√°ndares:
Son documentos/lineamientos que describen la forma segura de ejecutar tareas.

√ösalos para:
‚Ä¢ Estandarizar controles
‚Ä¢ Capacitar y verificar competencias
‚Ä¢ Reducir variabilidad y errores

Elige qu√© deseas:`,
      options: [
        { id: "petsa_uso", label: "C√≥mo usar un PETS antes de una tarea" },
        { id: "petsa_checklist", label: "Checklist r√°pido (cumplimiento)" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    petsa_uso: {
      botText:
`C√≥mo usar un PETS:
1) Lee el alcance (qu√© cubre y qu√© no).
2) Verifica herramientas/equipos requeridos.
3) Identifica controles obligatorios (barreras cr√≠ticas).
4) Confirma competencias (qui√©n puede ejecutar/autorizar).
5) Aplica IPERC/ATS complementario si el PETS no cubre el escenario exacto.
6) Briefing al equipo y roles claros.`,
      options: [
        { id: "petsa", label: "Volver a PETS" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    petsa_checklist: {
      botText:
`Checklist PETS:
‚ñ° La tarea coincide con el alcance del PETS
‚ñ° Se tiene versi√≥n vigente / procedimiento aplicable
‚ñ° Controles cr√≠ticos implementados antes de iniciar
‚ñ° Equipo/herramientas inspeccionadas
‚ñ° Personal competente (autorizaci√≥n/certificaci√≥n)
‚ñ° Se√±alizaci√≥n y control de √°rea
‚ñ° Plan de respuesta ante emergencias definido`,
      options: [
        { id: "petsa", label: "Volver a PETS" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    ats: {
      botText:
`ATS / AST (An√°lisis Seguro de Trabajo):
Herramienta para descomponer una tarea en pasos, identificar peligros por paso y definir controles.

√ötil cuando:
‚Ä¢ La tarea es no rutinaria o cambiante
‚Ä¢ Hay m√∫ltiples riesgos simult√°neos
‚Ä¢ Se requiere coordinaci√≥n entre varias personas/equipos`,
      options: [
        { id: "ats_pasos", label: "C√≥mo hacer un ATS (estructura)" },
        { id: "ats_ejemplo", label: "Ejemplo (estructura) de ATS" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    ats_pasos: {
      botText:
`Estructura sugerida de un ATS:
1) Tarea y alcance
2) Pasos de la tarea (orden l√≥gico)
3) Peligros por paso (atrapamiento, energ√≠a, ca√≠da, proyecci√≥n, etc.)
4) Controles por paso (ingenier√≠a/administrativos/EPP)
5) Roles y responsables
6) ‚ÄúPuntos de paro‚Äù: condiciones que obligan a detener
7) Confirmaci√≥n del equipo (briefing y dudas)`,
      options: [
        { id: "ats", label: "Volver a ATS" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    ats_ejemplo: {
      botText:
`Ejemplo de ATS (formato):
Tarea: Cambio de guarda de protecci√≥n en equipo.
Paso 1: Aislar energ√≠as ‚Üí Peligro: energ√≠as peligrosas ‚Üí Control: LOTO + verificaci√≥n de energ√≠a cero.
Paso 2: Retiro de guarda ‚Üí Peligro: atrapamiento/cortes ‚Üí Control: herramientas adecuadas + guantes anticorte.
Paso 3: Instalaci√≥n ‚Üí Peligro: ca√≠da de componentes ‚Üí Control: apoyo mec√°nico / aseguramiento.
Paso 4: Prueba ‚Üí Peligro: arranque inesperado ‚Üí Control: retiro de bloqueo solo con autorizaci√≥n + √°rea despejada.`,
      options: [
        { id: "ats", label: "Volver a ATS" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    peligros_riesgos: {
      botText:
`Diferencia clave:
‚Ä¢ Peligro: fuente con potencial de da√±o (energ√≠a, sustancia, condici√≥n).
‚Ä¢ Riesgo: combinaci√≥n de probabilidad y consecuencia de que ocurra el da√±o.

Ejemplos:
‚Ä¢ Peligro: trabajo en altura ‚Üí Riesgo: ca√≠da con lesi√≥n grave
‚Ä¢ Peligro: cable energizado ‚Üí Riesgo: electrocuci√≥n
‚Ä¢ Peligro: polvo respirable ‚Üí Riesgo: afectaci√≥n respiratoria

Elige qu√© deseas:`,
      options: [
        { id: "jerarquia_controles", label: "Jerarqu√≠a de controles (c√≥mo priorizar)" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    jerarquia_controles: {
      botText:
`Jerarqu√≠a de controles (mejor a peor):
1) Eliminaci√≥n (quitar el peligro)
2) Sustituci√≥n (reemplazar por algo menos peligroso)
3) Controles de ingenier√≠a (guardas, enclavamientos, ventilaci√≥n, barandas)
4) Administrativos (procedimientos, se√±alizaci√≥n, permisos, capacitaci√≥n)
5) EPP (√∫ltima barrera)

Regla: si dependes solo del EPP, el control suele ser d√©bil.`,
      options: [
        { id: "peligros_riesgos", label: "Volver a Peligros/Riesgos" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    epp: {
      botText:
`EPP (Equipo de Protecci√≥n Personal):
El EPP es la √∫ltima barrera. Debe seleccionarse seg√∫n el riesgo y mantenerse en buen estado.

Elige una gu√≠a:`,
      options: [
        { id: "epp_seleccion", label: "C√≥mo seleccionar EPP (por tipo de peligro)" },
        { id: "epp_checklist", label: "Checklist de inspecci√≥n de EPP" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    epp_seleccion: {
      botText:
`Selecci√≥n r√°pida de EPP (gu√≠a):
‚Ä¢ Ojos/cara: gafas/visor (proyecci√≥n, part√≠culas, qu√≠micos)
‚Ä¢ Manos: guante seg√∫n riesgo (anticorte, diel√©ctrico, qu√≠mico)
‚Ä¢ Respiratorio: filtro seg√∫n contaminante (polvo, vapores); requiere ajuste/entrenamiento
‚Ä¢ Audici√≥n: tapones/orejeras (ruido)
‚Ä¢ Altura: arn√©s + l√≠nea de vida + conectores certificados (si aplica)
‚Ä¢ Pies: botas con puntera y suela seg√∫n entorno (antideslizante, diel√©ctrica)

Si me dices la tarea y el entorno, puedo darte una gu√≠a m√°s espec√≠fica.`,
      options: [
        { id: "epp", label: "Volver a EPP" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    epp_checklist: {
      botText:
`Checklist EPP:
‚ñ° Sin cortes/roturas/deformaciones
‚ñ° Tallas correctas (ajuste)
‚ñ° Fechas/inspecci√≥n vigente (si aplica)
‚ñ° Conectores/hebillas (arn√©s) sin desgaste
‚ñ° Respirador con sello y filtros correctos
‚ñ° Lentes sin rayaduras que afecten visi√≥n
‚ñ° Limpieza y almacenamiento adecuados`,
      options: [
        { id: "epp", label: "Volver a EPP" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    alto_riesgo: {
      botText:
`Trabajos de Alto Riesgo:
Incluyen tareas con potencial severo (altura, energ√≠as peligrosas, izaje, espacios confinados, caliente, etc.).
Suelen requerir permisos, verificaciones y controles cr√≠ticos.

Elige:`,
      options: [
        { id: "petar", label: "PETAR (definici√≥n y uso)" },
        { id: "alto_riesgo_checklist", label: "Checklist previo a un trabajo de alto riesgo" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    petar: {
      botText:
`PETAR: Permiso Escrito de Trabajo de Alto Riesgo.
Documento que autoriza la ejecuci√≥n de un trabajo de alto riesgo confirmando:
‚Ä¢ IPERC/ATS aplicado
‚Ä¢ Controles cr√≠ticos implementados
‚Ä¢ Responsable(s) y autorizaciones definidas
‚Ä¢ Verificaci√≥n previa y condiciones de paro

Nota: Los requisitos exactos dependen del est√°ndar interno de la operaci√≥n.`,
      options: [
        { id: "alto_riesgo", label: "Volver a Alto Riesgo" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    alto_riesgo_checklist: {
      botText:
`Checklist Alto Riesgo (previo):
‚ñ° Permisos requeridos completos (si aplica)
‚ñ° Energ√≠a controlada/aislada (cuando corresponda)
‚ñ° Se√±alizaci√≥n y control de √°rea
‚ñ° Supervisi√≥n/roles claros
‚ñ° Equipos certificados/inspeccionados (arn√©s, eslingas, herramientas)
‚ñ° Comunicaci√≥n efectiva (radios, se√±ales, ‚Äústop work‚Äù)
‚ñ° Condiciones ambientales aceptables
‚ñ° Plan de rescate/emergencia (si aplica)`,
      options: [
        { id: "alto_riesgo", label: "Volver a Alto Riesgo" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    loto: {
      botText:
`LOTO (Bloqueo y Etiquetado):
M√©todo para controlar energ√≠as peligrosas y evitar arranques/liberaciones inesperadas durante mantenimiento/intervenci√≥n.

Elige:`,
      options: [
        { id: "loto_pasos", label: "Pasos LOTO (resumen)" },
        { id: "loto_errores", label: "Errores comunes en LOTO" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    loto_pasos: {
      botText:
`Pasos LOTO (resumen):
1) Preparar y notificar
2) Parar el equipo
3) Aislar energ√≠a (el√©ctrica, neum√°tica, hidr√°ulica, gravedad)
4) Bloquear y etiquetar
5) Liberar energ√≠a residual
6) Verificar ‚Äúenerg√≠a cero‚Äù
7) Ejecutar trabajo
8) Retiro de bloqueo con autorizaci√≥n y prueba controlada`,
      options: [
        { id: "loto", label: "Volver a LOTO" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    loto_errores: {
      botText:
`Errores comunes:
‚Ä¢ No verificar energ√≠a cero
‚Ä¢ No identificar todas las fuentes (energ√≠as secundarias)
‚Ä¢ Bloqueo ‚Äúcompartido‚Äù sin control por persona
‚Ä¢ Retiro de bloqueo sin autorizaci√≥n
‚Ä¢ Etiquetado incompleto o confuso`,
      options: [
        { id: "loto", label: "Volver a LOTO" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    incidentes: {
      botText:
`Reporte de incidentes:
Un incidente incluye cuasi-accidente, condici√≥n insegura, acto inseguro, da√±os menores, etc.
Objetivo: aprender y prevenir recurrencias.

Elige:`,
      options: [
        { id: "incidente_que_hacer", label: "Qu√© hacer inmediatamente" },
        { id: "incidente_buen_reporte", label: "C√≥mo hacer un buen reporte" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    incidente_que_hacer: {
      botText:
`Acci√≥n inmediata (gu√≠a):
1) Det√©n el trabajo si hay riesgo activo
2) Asegura el √°rea / controla el peligro
3) Notifica al supervisor/SST
4) Atiende a personas si aplica (primeros auxilios)
5) Conserva evidencias sin exponerte (fotos, ubicaci√≥n, hora)
6) Reporta por el canal definido (seg√∫n operaci√≥n)`,
      options: [
        { id: "incidentes", label: "Volver a Incidentes" },
        { id: "home", label: "Men√∫ principal" }
      ]
    },

    incidente_buen_reporte: {
      botText:
`Buen reporte (estructura):
‚Ä¢ Qu√© pas√≥ (hechos, sin culpas)
‚Ä¢ D√≥nde y cu√°ndo
‚Ä¢ Qu√© tarea se hac√≠a
‚Ä¢ Peligros identificados y controles existentes
‚Ä¢ Qu√© fall√≥ o qu√© cambi√≥
‚Ä¢ Acciones inmediatas
‚Ä¢ Recomendaciones de control (mejor si son de ingenier√≠a/administrativas)`,
      options: [
        { id: "incidentes", label: "Volver a Incidentes" },
        { id: "home", label: "Men√∫ principal" }
      ]
    }
  };

  // ---------------------------
  // 2) ESTADO DEL CHAT (navegaci√≥n)
  // ---------------------------
  let state = "home";
  const historyStack = []; // para "volver"

  // ---------------------------
  // 3) RENDER DEL CHAT
  // ---------------------------
  function addBot(text) {
    const chat = document.getElementById("chat");
    const row = document.createElement("div");
    row.className = "row bot";
    row.innerHTML = `<div class="bubble">${escapeHtml(text)}</div>`;
    chat.appendChild(row);
    chat.scrollTop = chat.scrollHeight;
  }

  function addUser(text) {
    const chat = document.getElementById("chat");
    const row = document.createElement("div");
    row.className = "row user";
    row.innerHTML = `<div class="bubble">${escapeHtml(text)}</div>`;
    chat.appendChild(row);
    chat.scrollTop = chat.scrollHeight;
  }

  function renderOptions(nodeId) {
    const node = KB[nodeId];
    const optionsEl = document.getElementById("options");
    optionsEl.innerHTML = "";

    node.options.forEach((opt) => {
      const btn = document.createElement("button");
      btn.className = "btn";
      btn.textContent = opt.label;
      btn.onclick = () => handleChoice(opt.id, opt.label);
      optionsEl.appendChild(btn);
    });
  }

  function handleChoice(nextId, label) {
    // Registro la selecci√≥n del usuario
    addUser(label);

    // Guardar historial para volver
    historyStack.push(state);
    state = nextId;

    // Respuesta del bot y nuevas opciones
    const node = KB[state];
    if (!node) {
      addBot("No tengo informaci√≥n configurada para esta opci√≥n todav√≠a.");
      state = "home";
      renderOptions("home");
      return;
    }

    addBot(node.botText);
    renderOptions(state);
  }

  function goHome() {
    addUser("Ir a Inicio");
    state = "home";
    historyStack.length = 0;
    addBot(KB.home.botText);
    renderOptions("home");
  }

  function goBack() {
    if (historyStack.length === 0) {
      addBot("Ya est√°s en el inicio.");
      return;
    }
    addUser("Volver");
    state = historyStack.pop();
    addBot(KB[state].botText);
    renderOptions(state);
  }

  function showHelp() {
    addUser("Contactar supervisor");
    addBot(
`Si tu consulta es operativa o requiere validaci√≥n interna:
‚Ä¢ Det√©n el trabajo si hay peligro inmediato (‚ÄúStop Work‚Äù)
‚Ä¢ Contacta a tu supervisor / SST por el canal de la operaci√≥n
‚Ä¢ Indica: tarea, √°rea, riesgo y control aplicado

Si deseas, puedo guiarte para preparar un mensaje de reporte.`

    );
  }

  // Evitar inyecci√≥n HTML en mensajes
  function escapeHtml(str) {
    return String(str)
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  // ---------------------------
  // 4) INICIO
  // ---------------------------
  addBot(KB.home.botText);
  renderOptions("home");
</script>

</body>
</html>
